
<HTML XMLNS="http://www.w3.org/1999/xhtml">
<HEAD>
<TITLE>CSE 131: ADTs</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../style.css" />
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1" />
</HEAD>
<BODY>
<H2><a href="http://www.cs.wustl.edu/~jp/cse131/">CSE 131</a> Module 8: ADTs</H2>
<UL CLASS="tabs primary">
<LI><A HREF="index.html">Module Home</A></LI>
<LI><A HREF="exercises.html">Exercises</A></LI>
<LI><A HREF="studio.html">Studio</A></LI>
<LI><A HREF="lab.html">Lab</A></LI>
<LI class="active"><A HREF="extensions.html">Extensions</A></LI>
</UL>
<H3>Extensions</H3>
<a name="ext1"></a>
<H2>Extension 1: Sad Cycles (5 points):</H2><p>
<DL><DT>Authors<DD><UL>
  <LI> Fede Rozenberg
</UL></DL>
<BLOCKQUOTE>
This extension needs a unit test.  For now, run it as indicated at the end
of this assignment.
</BLOCKQUOTE>
<H4>Overview</H4>
<p>So it turns out that numbers can feel things. We define a happy or sad number through this process:
<OL>
<LI>Split up the number into its digits.
<LI>Square the digits and sum them.
<LI>Repeat with the new sum until you reach a set of numbers that repeat or the number 1.
<LI>If your process results in a repeating 1, your initial number was happy! Otherwise, it has fallen into a cycle of depression, characterized by the repeating numbers <KBD>[4, 16, 37, 58, 89, 145, 42, 20, 4...]</KBD> How sad.
</OL>

<BLOCKQUOTE>
For example, starting with the number 15, our process yields:
<UL>
<LI>1<sup>2</sup> + 5<sup>2</sup> = 26
<LI>2<sup>2</sup> + 6<sup>2</sup> = 40
<LI>4<sup>2</sup> + 0<sup>2</sup> = 16
<LI>1<sup>2</sup> + 6<sup>2</sup> = 37
<LI>3<sup>2</sup> + 7<sup>2</sup> = 58
<br>Here you can see our number has fallen into the beginning stages of depression...
</UL>
</BLOCKQUOTE>
</p>

<p>In this extension you will be designing a program that uses <KBD>sets</KBD> to find the sad cycle of a number for an arbitrary power.</p>

<H4>Procedure</H4>
<p>In the <KBD>sadcycle</KBD> package of your
<KBD>extensions</KBD> folder, create a <KBD>SadCycler</KBD> class.
<UL>
<LI>Create a method <KBD>Set&lt;Long&gt; findCycle(int base, long n)</KBD> that takes in a number <KBD>n</KBD> and either returns a <KBD>Set&lt;Long&gt;</KBD> with the <KBD>base</KBD>-sad cycle for <KBD>n</KBD> or with 1 as its only element.
<BLOCKQUOTE>A <KBD>long</KBD> is simply twice as long as an <KBD>int</KBD>. I recommend using it here because some of the numbers found in higher <KBD>base</KBD>-sad cycles can be quite large.</BLOCKQUOTE>
<LI>Feel free to create any other methods you might need.
<BLOCKQUOTE>I highly recommend partitioning the splitting of digits, raising to the power of <KBD>base</KBD>, and summing into one method. The trick here is figuring out how to treat every digit in a number as its own entity.</BLOCKQUOTE>
<LI> Test your program on inputs you find documented 
<a href="https://en.wikipedia.org/wiki/Happy_number">here</a>.  Show these
results to a TA and convince him or her they are right for credit on this
assignment.
</UL>
</p>

<a name="extdemo1"></a>
        <BLOCKQUOTE class="demo">
        When you done with this extension, you must be cleared by the TA to receive credit.
        <UL>
           <LI> Commit all your work to your repository
           <LI> Fill in the form below with the relevant information
           <LI> Have a TA check your work
           <LI> The TA should check your work and then fill in his or her name
           <LI> Click <KBD>OK</KBD> while the TA watches
           <LI> If you request propagation, it does not happen immediately,
but should be posted in the next day or so
        </UL>
        <p>
<BLOCKQUOTE>
<FONT SIZE=4><B>This demo box is for extension 8.1</B></FONT>
</BLOCKQUOTE>
        <FORM method="post" action="http://userfs.cec.wustl.edu/~joshlandman/recordgrade.php">
        <input type="hidden" name="Logentry" value="8.1">
        <input type="hidden" name="Course"  value="131">
        <input type="hidden" name="Logname"  value="extensions9">
        <input type="hidden" name="Thing"    value="extension">
        <TABLE>
        <TR> <TD> </TD> <TH> Last name</TH> <TH> WUSTL Key </TH> <TH COLSPAN=2>Propagate?</TH></TR>
         <TR> <TD></TD> <TD> </TD> <TD><FONT SIZE=-2 COLOR="red">(or your numeric ID)</FONT> </TD> <TD><input type="radio" name="PropFrom" value="0" checked></TD><TD>Do not propagate</TD></TR>
         <TR> <TD>e.g.</TD> <TD> <KBD>Smith</KBD> </TD> <TD><KBD>j.smith</KBD> </TD> <TD COLSPAN=2></TD></TR>
            <TR> <TD> 1</TD>
             <TD>
                <input type="text" size="12" maxlength="20" name="Name1">
             </TD>
             <TD>
                <input type="text" size="12" maxlength="20" name="ID1">
             </TD>
             <TD>
                <input type="radio" name="PropFrom" value=1>
             </TD><TD>
                 Copy from 1 to all others
             </TD>
            </TR>
            <TR> <TD> 2</TD>
             <TD>
                <input type="text" size="12" maxlength="20" name="Name2">
             </TD>
             <TD>
                <input type="text" size="12" maxlength="20" name="ID2">
             </TD>
             <TD>
                <input type="radio" name="PropFrom" value=2>
             </TD><TD>
                 Copy from 2 to all others
             </TD>
            </TR>
         </TABLE>
         <hr>
         TA: <input type="text" size="12" maxlength="12" name="TA">
         Password: <input type="password" size="12" maxlength="12" name="Password" AUTOCOMPLETE="OFF"><br />
         <p>
         <input type="submit" value="OK">
         </FORM>
         </BLOCKQUOTE>
         <p>
<P><H3>End of extension 1</H3><HR NOSHADE SIZE=10><p>
<a name="ext2"></a>
<H2>Extension 2: Sharpe Computation (5 points):</H2><p>
<DL><DT>Authors<DD><UL>
  <LI> Devin Goodkin
  <LI> <a href="http://www.cs.wustl.edu/~cytron/">Ron K. Cytron</a>
</UL></DL>
<BLOCKQUOTE> <FONT COLOR="RED"><B>Issues:</b>
Working on it, stay tuned
</FONT></BLOCKQUOTE>
<H4>Introduction</H4>
Have you 
wondered how to determine the profitability of a portfolio or of a given trading
strategy? 
In this assignment, you calculate the profitability of a portfolio
 using one of the most fundamental tools of finance: <i><a href="https://en.wikipedia.org/wiki/Sharpe_ratio">the Sharpe ratio</a></i>. 

<H4>Sharpe Ratio</H4>
<p>
The 
<a href="https://en.wikipedia.org/wiki/Sharpe_ratio">Sharpe ratio</a> 
is a measure for calculating risk-adjusted return. 
It was developed by Nobel laureate <a href="https://en.wikipedia.org/wiki/William_F._Sharpe">William F. Sharpe</a>. 
<p>
Suppose you are considering investing a given amount of money in one of two
possible ways:
<DL>
 <DT> a
 <DD> This investment has risk.  You may experience a positive return on
your investment, or you could lose your money.  Let 
<I>R<sub>a</sub></I>
denote the return you will receive if your money is invested this way.
  <DT> b
 <DD> This investment has no risk.  So let us say that you will certainly receive 
<I>R<sub>b</sub></I> funds if your money is invested this way.
</DL>
The Sharpe ratio is the 
average return earned in excess of the risk-free rate per unit of risk. 
Subtracting the risk-free rate from the mean return, the <b>performance</b> of the 
portfolio with risk can be isolated. For example, a portfolio engaging in 
zero risk, such as the purchase of U.S. Treasury bills or bonds, has a 
Sharpe ratio of exactly zero (the numerator is 0).  
</p>
<p>
The Sharpe ratio is calculated with this formula:
</p>
<EM> RKC need picture </EM>
<CENTER>
<IMG SRC="Extensions/sharperatioformula.jpg">
</CENTER>
<p>
To calculate <b>average rate of return</b> of x, just add up all the provided <b>returns</b>
for each individual stock and divide by the <b>number of stocks</b>.
</p>
<p>
Assume that for this portfolio, the <b>risk free rate</b> or <b>Rf</b> is 2%.
</p>
<p>
The <b>portfolio standard deviation</b> can be calculated using this formula:
</p>
<blockquote> <EM>RKC Do exponentiation using <sup>this </sup></EM>
<b>Stddev</b> = [ (wgt1 ^2 * s1 ^2) + (wgt2 ^2 * s2 ^ 2) + (2 * w1 * w2 * cov12) ] ^ .5
<p><b>
where
</p></b>
<ul>
  <li>wgt1 is the weight of asset 1</li>
  <li>wgt2 is the weight of asset 2</li>
  <li>s1 is the standard deviation of asset 1</li>
  <li>s2 is the standard deviation of asset 2</li>
  <li>cov12 is the covariant of assets 1 and 2</li>
</ul></blockquote>
<p>
For the purposes of this extension, assume that all the stocks have <b>no correlation</b>
 with each other and are <b>weighted equally</b>. This means that the covariance between 
 any two stocks is 0 and that the weight of each stock is simply 1/n where n is 
 the number of stocks.
</p><p>
Now that you understand what the Sharpe ratio is, it is time to apply what you 
have learned.
</p>
<p><b>Directions</p></b>
<p>
Click on the extensions folder and create a new class called <b>CalculateSharpeRatio</b>
 in the <b>sharperatio</b> package.
</p><p>
Set up the <b>ArgsProcessor</b> to take input from <b>datafiles/stockaccount</b>. This is where 
the data you will use to calculate the Sharpe ratio comes from. 
</p>
<ul>
  <li>On the left, there will be a column of doubles. 
  This is the value of the <b>expected return</b> for each stock.</li>
  <li>On the right, there will be another column of doubles. 
  These are the <b>variances</b> for each individual stock. </li>
</ul>
<p>
You will have to create a <b>List</b> of doubles for both the expected returns and the 
variances in the main method. 
</p><p>
After, write up a <b>loop</b> to read in the doubles for the expected returns and another
 <b>loop</b> for the standard deviations. Once your program has read in these values, 
 you can start making your calculations for the Sharpe ratio. 
 </p><p>
 Calculate the Sharpe ratio and <b>round</b> it to two decimal points then print it out. 
</p><ul>
  <li>You should also print out whether the portfolio is <b>profitable</b> or not. 
  In general, a portfolio with a Sharpe ratio greater than <b>one</b> is considered 
  profitable. </li>
 </ul>

<a name="extdemo2"></a>
        <BLOCKQUOTE class="demo">
        When you done with this extension, you must be cleared by the TA to receive credit.
        <UL>
           <LI> Commit all your work to your repository
           <LI> Fill in the form below with the relevant information
           <LI> Have a TA check your work
           <LI> The TA should check your work and then fill in his or her name
           <LI> Click <KBD>OK</KBD> while the TA watches
           <LI> If you request propagation, it does not happen immediately,
but should be posted in the next day or so
        </UL>
        <p>
<BLOCKQUOTE>
<FONT SIZE=4><B>This demo box is for extension 8.2</B></FONT>
</BLOCKQUOTE>
        <FORM method="post" action="http://userfs.cec.wustl.edu/~joshlandman/recordgrade.php">
        <input type="hidden" name="Logentry" value="8.2">
        <input type="hidden" name="Course"  value="131">
        <input type="hidden" name="Logname"  value="extensions0">
        <input type="hidden" name="Thing"    value="extension">
        <TABLE>
        <TR> <TD> </TD> <TH> Last name</TH> <TH> WUSTL Key </TH> <TH COLSPAN=2>Propagate?</TH></TR>
         <TR> <TD></TD> <TD> </TD> <TD><FONT SIZE=-2 COLOR="red">(or your numeric ID)</FONT> </TD> <TD><input type="radio" name="PropFrom" value="0" checked></TD><TD>Do not propagate</TD></TR>
         <TR> <TD>e.g.</TD> <TD> <KBD>Smith</KBD> </TD> <TD><KBD>j.smith</KBD> </TD> <TD COLSPAN=2></TD></TR>
            <TR> <TD> 1</TD>
             <TD>
                <input type="text" size="12" maxlength="20" name="Name1">
             </TD>
             <TD>
                <input type="text" size="12" maxlength="20" name="ID1">
             </TD>
             <TD>
                <input type="radio" name="PropFrom" value=1>
             </TD><TD>
                 Copy from 1 to all others
             </TD>
            </TR>
            <TR> <TD> 2</TD>
             <TD>
                <input type="text" size="12" maxlength="20" name="Name2">
             </TD>
             <TD>
                <input type="text" size="12" maxlength="20" name="ID2">
             </TD>
             <TD>
                <input type="radio" name="PropFrom" value=2>
             </TD><TD>
                 Copy from 2 to all others
             </TD>
            </TR>
         </TABLE>
         <hr>
         TA: <input type="text" size="12" maxlength="12" name="TA">
         Password: <input type="password" size="12" maxlength="12" name="Password" AUTOCOMPLETE="OFF"><br />
         <p>
         <input type="submit" value="OK">
         </FORM>
         </BLOCKQUOTE>
         <p>
<P><H3>End of extension 2</H3><HR NOSHADE SIZE=10><p>
</BODY>
</HTML>
